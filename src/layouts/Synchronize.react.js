import React, { Component, PropTypes as RPT } from 'react';
import { inject } from 'mobx-react/native';
import { Image, StyleSheet, TouchableOpacity, Vibration } from 'react-native';

const base64Icon = 'data:image/png;base64,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';

@inject(({ phraseStore }) => ({
  fetchPhrases: phraseStore.fetchPhrases,
  uploadPhrases: phraseStore.uploadPhrases
}))
export default class Synchronize extends Component {

  static propTypes = {
    fetchPhrases: RPT.func.isRequired,
    uploadPhrases: RPT.func.isRequired
  }

  render() {
    const { fetchPhrases, uploadPhrases } = this.props;

    return (
      <TouchableOpacity
        style={styles.base}
        onPress={uploadPhrases}
        onLongPress={() => { Vibration.vibrate([0]); fetchPhrases(); }}
      >
        <Image style={styles.image} source={{ uri: base64Icon, scale: 1 }} />
      </TouchableOpacity>
    );
  }
}

const styles = StyleSheet.create({
  base: {
    position: 'absolute',
    left: 0,
    top: 30,
    width: 60,
    height: 80
  },

  image: {
    height: 18,
    resizeMode: 'contain',
    position: 'relative',
    top: 12
  }
});
